@tailwind base;
@tailwind components;
@tailwind utilities;

/* Terminal aesthetic: techy, minimal, data-rich */
:root {
  --background: 222 24% 4%;
  --foreground: 120 6% 88%;
  --card: 222 20% 6%;
  --card-foreground: 120 6% 88%;
  --popover: 222 20% 6%;
  --popover-foreground: 120 6% 88%;
  --primary: 168 100% 42%;
  --primary-foreground: 222 24% 4%;
  --secondary: 222 16% 10%;
  --secondary-foreground: 120 6% 80%;
  --muted: 222 14% 10%;
  --muted-foreground: 120 4% 52%;
  --accent: 135 100% 45%;
  --accent-foreground: 222 24% 4%;
  --destructive: 0 85% 55%;
  --destructive-foreground: 0 0% 100%;
  --border: 222 12% 14%;
  --input: 222 12% 14%;
  --ring: 168 100% 42%;
  --chart-1: 168 100% 42%;
  --chart-2: 135 100% 45%;
  --chart-3: 42 100% 50%;
  --chart-4: 0 85% 55%;
  --chart-5: 222 8% 45%;
  --radius: 0px;
  --warning: 42 100% 50%;
  --warning-foreground: 222 24% 4%;
  --success: 135 100% 45%;
  --success-foreground: 222 24% 4%;
  --sidebar-background: 222 26% 3%;
  --sidebar-foreground: 120 6% 72%;
  --sidebar-primary: 168 100% 42%;
  --sidebar-primary-foreground: 222 24% 4%;
  --sidebar-accent: 222 18% 8%;
  --sidebar-accent-foreground: 120 6% 88%;
  --sidebar-border: 222 12% 10%;
  --sidebar-ring: 168 100% 42%;
}

.dark {
  --background: 222 24% 4%;
  --foreground: 120 6% 88%;
  --card: 222 20% 6%;
  --card-foreground: 120 6% 88%;
  --popover: 222 20% 6%;
  --popover-foreground: 120 6% 88%;
  --primary: 168 100% 42%;
  --primary-foreground: 222 24% 4%;
  --secondary: 222 16% 10%;
  --secondary-foreground: 120 6% 80%;
  --muted: 222 14% 10%;
  --muted-foreground: 120 4% 52%;
  --accent: 135 100% 45%;
  --accent-foreground: 222 24% 4%;
  --destructive: 0 85% 55%;
  --destructive-foreground: 0 0% 100%;
  --border: 222 12% 14%;
  --input: 222 12% 14%;
  --ring: 168 100% 42%;
  --chart-1: 168 100% 42%;
  --chart-2: 135 100% 45%;
  --chart-3: 42 100% 50%;
  --chart-4: 0 85% 55%;
  --chart-5: 222 8% 45%;
  --radius: 0px;
  --warning: 42 100% 50%;
  --warning-foreground: 222 24% 4%;
  --success: 135 100% 45%;
  --success-foreground: 222 24% 4%;
  --sidebar-background: 222 26% 3%;
  --sidebar-foreground: 120 6% 72%;
  --sidebar-primary: 168 100% 42%;
  --sidebar-primary-foreground: 222 24% 4%;
  --sidebar-accent: 222 18% 8%;
  --sidebar-accent-foreground: 120 6% 88%;
  --sidebar-border: 222 12% 10%;
  --sidebar-ring: 168 100% 42%;
}

/* Map popup: no white boundary â€” override MapLibre default content bg/padding and global * border */
.sf-map-popup.maplibregl-popup {
  background: transparent;
  border: none;
}
.sf-map-popup.maplibregl-popup .maplibregl-popup-content {
  background: transparent;
  border: none;
  padding: 0;
  box-shadow: none;
}
.sf-map-popup.maplibregl-popup .maplibregl-popup-tip {
  border: none;
  background: transparent;
}
.sf-map-popup.maplibregl-popup .maplibregl-popup-close-button {
  border: none;
  background: transparent;
  color: hsl(var(--foreground));
  opacity: 0.8;
  z-index: 1;
}
.sf-map-popup.maplibregl-popup .maplibregl-popup-close-button:hover {
  opacity: 1;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  /* Terminal-style data blocks */
  .terminal-panel {
    @apply border border-border bg-card font-mono text-sm;
  }
  .terminal-glow {
    box-shadow: 0 0 12px hsl(var(--primary) / 0.15);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-mono antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: var(--font-terminal), ui-monospace, "SF Mono", Monaco, "Cascadia Mono", "Segoe UI Mono", Consolas, monospace;
  }
  /* Sharp, minimal focus rings */
  *:focus-visible {
    outline: 1px solid hsl(var(--primary));
    outline-offset: 2px;
  }
}

@layer utilities {
  .status-connected {
    @apply text-accent;
  }
  .status-warning {
    color: hsl(var(--warning));
  }
  .status-error {
    @apply text-destructive;
  }
  /* Header divider: thin bright line between headers and log entries */
  .sessions-log-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.35);
  }
  /* Difficulty pills: subtle bg only (no left border) */
  .difficulty-tint-easy {
    background-color: rgba(34, 197, 94, 0.18);
  }
  .difficulty-tint-medium {
    background-color: rgba(234, 179, 8, 0.18);
  }
  .difficulty-tint-hard {
    background-color: rgba(239, 68, 68, 0.18);
  }
}
